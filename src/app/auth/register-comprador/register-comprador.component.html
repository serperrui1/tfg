<div class="wrapper login">

    <div style="text-align: center; margin-bottom: 10px;">
        <a href="/"><img src="./assets/images/logo-transparente.png" /> </a>
    </div>

    <form class="form-registro" autocomplete="off" [formGroup]="registrarCompradorForm" (ngSubmit)="crearComprador()" id="loginform">
        <h2 class="form-signin-heading" style="text-align: center;">Nuevo comprador</h2>
        <hr>

        <p class="aviso">(*) Campos opcionales</p>

        <div class="form-group">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" name="nombre" id="nombre" formControlName="nombre" [class.is-invalid]="campoNoValido('nombre')">
            <small *ngIf="campoNoValido('nombre')" class="text-danger">Nombre requerido</small>
        </div>

        <div class="form-group">
            <label for="nombre">Apellidos</label>
            <input type="text" class="form-control" name="apellidos" id="apellidos" formControlName="apellidos" [class.is-invalid]="campoNoValido('apellidos')">
            <small *ngIf="campoNoValido('apellidos')" class="text-danger">Apellidos requeridos</small>
        </div>

        <div class="form-group">
            <label for="fechaNacimiento">Número de teléfono</label>
            <input type="number" class="form-control" id="numeroTelefono" placeholder="Ejemplo: 638126389" formControlName="numeroTelefono" [class.is-invalid]="tlfCompradorNoValido">
            <small *ngIf="tlfCompradorRequerido" class="text-danger">Teléfono requerido</small>
            <small *ngIf="telefonoFormato && !tlfCompradorRequerido" class="text-danger">Formato inválido</small>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" name="email" id="email" placeholder="Ejemplo: email@email.com" formControlName="email" [class.is-invalid]="emailNoValido">
            <small *ngIf="emailRequerido" class="text-danger">Email requerido</small>
            <small *ngIf="emailFormatoNoValido" class="text-danger">Formato inválido</small>
        </div>

        <div class="form-group">
            <label for="password">Contraseña</label>
            <input type="password" class="form-control" name="password" id="password" formControlName="password" [class.is-invalid]="passwordNoValido">
            <small *ngIf="passwordRequerido" class="text-danger">Contraseña requerida</small>
            <small *ngIf="passwordFormato && !passwordRequerido" class="text-danger">La contraseña debe tener una longitud mínima de entre 4 y 16 caracteres</small>
        </div>

        <div class="form-group">
            <label for="password2">Repita la contraseña</label>
            <input type="password" class="form-control" name="password2" id="password2" formControlName="password2" [class.is-invalid]="passwordNoValido || contrasenasNoValidas()">
            <small *ngIf="passwordRequerido2" class="text-danger">Repetición de contraseña requerida</small>
            <small *ngIf="contrasenasNoValidas() && !passwordRequerido2" class="text-danger">Las contraseñas no coinciden</small>
        </div>

        <div class="form-group">
            <label for="fechaNacimiento">Fecha de nacimiento</label>
            <input rows="4" type="date" class="form-control" name="fechaNacimiento" id="fechaNacimiento" formControlName="fechaNacimiento" [class.is-invalid]="fechaNoValido">
            <small *ngIf="fechaNacimientoRequerido" class="text-danger">Fecha de nacimiento requerida</small>
            <small *ngIf="fechaFechaAnteriorAHoy && !fechaNacimientoRequerido" class="text-danger">La fecha de nacimiento no puede ser futura</small>
        </div>

        <p class="aviso text-center">Datos de envío para pedidos realizados</p>

        <div class="form-group">
            <label for="paisResidencia">País de residencia</label>
            <input type="text" class="form-control" id="paisResidencia" formControlName="paisResidencia" [class.is-invalid]="paisCompradorNoValido">
            <small *ngIf="paisCompradorRequerido" class="text-danger">País de residencia requerido</small>
        </div>

        <div class="form-group">
            <label for="ciudad">Ciudad</label>
            <input type="text" class="form-control" id="ciudad" formControlName="ciudad" [class.is-invalid]="ciudadCompradorNoValido">
            <small *ngIf="ciudadCompradorRequerido" class="text-danger">Ciudad requerida</small>
        </div>

        <div class="form-group">
            <label for="localidad">Localidad</label>
            <input type="text" class="form-control" id="localidad" formControlName="localidad" [class.is-invalid]="localidadCompradorNoValido">
            <small *ngIf="localidadCompradorRequerido" class="text-danger">Localidad requerida</small>
        </div>

        <div class="form-group">
            <label for="codigoPostal">Código postal</label>
            <input type="number" class="form-control" id="codigoPostal" placeholder="Ejemplo: 41410" formControlName="codigoPostal" [class.is-invalid]="codigoPostalCompradorNoValido">
            <small *ngIf="codigoPostalCompradorRequerido" class="text-danger">Código postal requerido</small>
            <small *ngIf="codigoPostalFormato && !codigoPostalCompradorRequerido" class="text-danger">Formato inválido</small>
        </div>

        <div class="form-group">
            <label for="codigoPostal">Dirección de residencia</label>
            <input type="text" class="form-control" id="direccionResidencia" formControlName="direccionResidencia" [class.is-invalid]="direccionCompradorNoValido">
            <small *ngIf="direccionCompradorRequerido" class="text-danger">Direccción requerida</small>
        </div>

        <br>
        <hr>

        <div class="form-group">
            <input type="checkbox" formControlName="terminos" [class.is-invalid]="aceptaTerminos()"> Acepto los <a href="/terminos-uso-y-aviso-legal" class="link">términos de uso</a> <br>
            <small *ngIf="aceptaTerminos()" class="text-danger">Debe aceptar los términos</small>
        </div>

        <br>

        <button class="btn btn-lg btn-primary btn-block" id="submit" type="submit">Registrarse</button>

        <br>

        <div class="form-group m-b-0">
            <div class="col-sm-12 text-center">
                ¿Ya tiene cuenta?<a routerLink="/login" class="link m-l-5"><b> Inicie sesión</b></a>
            </div>
        </div>

        <div class="form-group m-b-0">
            <div class="col-sm-12 text-center">
                ¿Trabaja aquí?<a routerLink="/login/empleado" class="link m-l-5"><b> Acceda como empleado</b></a>
            </div>
        </div>

        <div class="form-group m-b-0">
            <div class="col-sm-12 text-center">
                <a routerLink="/" class="link m-l-5"><b>Volver a la web</b></a>
            </div>
        </div>


    </form>
</div>